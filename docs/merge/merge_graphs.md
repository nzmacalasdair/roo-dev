# Merge Panaroo graphs

It is possible to merge pangenome graphs generated by independent runs of the Panaroo algorithm. This is particularly useful when dealing with very large or diverse datasets. The Panaroo algorithm assumes that a dataset is not overly diverse and thus results can be improved by running the algorithm on separate clusters of genomes independently before merging the resulting graphs.

This approach can also be used to compare the pangenomes of different species or lineages.

As an example we investigate the species *Klebsiella quasipneumoniae* (KpII) and *Klebsiella variicola* (KpIII) from [Holt et al., 2015](https://www.pnas.org/content/112/27/E3574). Initially we run Panaroo independently on each dataset in it's most sensitive mode and require that all edges are kept in the final graph. 

```
panaroo -i kpII/*.gff -o kp_II_panaroo -t 24 --clean-mode sensitive --no_clean_edges
panaroo -i kpIII/*.gff -o kp_III_panaroo -t 24 --clean-mode sensitive --no_clean_edges
```

we can now merge the resulting graphs using

```
mkdir kp_merge
panaroo-merge -d kp_II_panaroo/ kp_III_panaroo/ -o kp_merge -t 24
```

